import{a as i}from"./chunk-GEFUKVKF.js";import{Eh as m,jg as u,kg as T}from"./chunk-PQ6EZO2H.js";import{i as y}from"./chunk-GHMOB5KC.js";y();var f=class{constructor(l,o){this.ctx=l;let e=$("#"+o,l.$container)[0],r=l.settings,n=this.createGaugeOptions(e,r);this.gauge=this.createGauge(n).draw()}update(){if(this.ctx.data.length>0){let l=this.ctx.data[0];if(l.data.length>0){let o=l.data[l.data.length-1],e=parseFloat(o[1]);e!==this.gauge.value&&(this.gauge.options.animation?delete this.gauge._value:this.gauge._value=e,this.gauge.value=e)}}}mobileModeChanged(){let l=this.ctx.settings.animation!==!1&&!this.ctx.isMobile;this.gauge.update({animation:l})}resize(){this.ctx.width>0&&this.ctx.height>0&&this.gauge.update({width:this.ctx.width,height:this.ctx.height})}destroy(){this.gauge.destroy(),this.gauge=null}},S=class extends f{constructor(l,o){super(l,o)}createGaugeOptions(l,o){let e=o.minValue||0,r=o.maxValue||100,n=this.ctx.data[0].dataKey,h=o.defaultColor||n.color,V=o.majorTicksCount||10,b=r-e,d=b/V,k=o.valueInt||3,F=z(this.ctx,o);d=parseFloat(parseFloat(d+"").toFixed(F))||1;let v=[],w=[],t=e;for(;t<=r;){v.push(t);let c=t+d;if(c=parseFloat(parseFloat(c+"").toFixed(F)),t<r){let p=m(h),N=(t-e)/b;p.setAlpha(N);let D={from:t,to:c,color:p.toRgbString()};w.push(D)}t=c}let B=m(h).darken(20).toRgbString(),x={renderTo:l,minValue:e,maxValue:r,majorTicks:v,minorTicks:o.minorTicks||2,units:W(this.ctx,o),title:o.showUnitTitle!==!1?o.unitTitle&&o.unitTitle.length>0?o.unitTitle:n.label:"",borders:o.showBorder!==!1,borderShadowWidth:o.showBorder!==!1?3:0,valueInt:k,valueDec:F,majorTicksInt:1,majorTicksDec:0,valueBox:o.valueBox!==!1,valueBoxStroke:5,valueBoxWidth:0,valueText:"",valueTextShadow:!0,valueBoxBorderRadius:2.5,highlights:o.highlights&&o.highlights.length>0?o.highlights:w,highlightsWidth:u(o.highlightsWidth)&&o.highlightsWidth!==null?o.highlightsWidth:15,fontNumbers:i(o.numbersFont),fontTitle:i(o.titleFont),fontUnits:i(o.unitsFont),fontValue:i(o.valueFont),fontNumbersSize:o.numbersFont&&o.numbersFont.size?o.numbersFont.size:18,fontTitleSize:o.titleFont&&o.titleFont.size?o.titleFont.size:24,fontUnitsSize:o.unitsFont&&o.unitsFont.size?o.unitsFont.size:22,fontValueSize:o.valueFont&&o.valueFont.size?o.valueFont.size:40,fontNumbersStyle:o.numbersFont&&o.numbersFont.style?o.numbersFont.style:"normal",fontTitleStyle:o.titleFont&&o.titleFont.style?o.titleFont.style:"normal",fontUnitsStyle:o.unitsFont&&o.unitsFont.style?o.unitsFont.style:"normal",fontValueStyle:o.valueFont&&o.valueFont.style?o.valueFont.style:"normal",fontNumbersWeight:o.numbersFont&&o.numbersFont.weight?o.numbersFont.weight:"500",fontTitleWeight:o.titleFont&&o.titleFont.weight?o.titleFont.weight:"500",fontUnitsWeight:o.unitsFont&&o.unitsFont.weight?o.unitsFont.weight:"500",fontValueWeight:o.valueFont&&o.valueFont.weight?o.valueFont.weight:"500",colorNumbers:o.numbersFont&&o.numbersFont.color?o.numbersFont.color:B,colorTitle:o.titleFont&&o.titleFont.color?o.titleFont.color:"#888",colorUnits:o.unitsFont&&o.unitsFont.color?o.unitsFont.color:"#888",colorValueText:o.valueFont&&o.valueFont.color?o.valueFont.color:"#444",colorValueTextShadow:o.valueFont&&o.valueFont.shadowColor?o.valueFont.shadowColor:"rgba(0,0,0,0.3)",colorPlate:o.colorPlate||"#fff",colorMajorTicks:o.colorMajorTicks||"#444",colorMinorTicks:o.colorMinorTicks||"#666",colorNeedle:o.colorNeedle||h,colorNeedleEnd:o.colorNeedleEnd||h,colorValueBoxRect:o.colorValueBoxRect||"#888",colorValueBoxRectEnd:o.colorValueBoxRectEnd||"#666",colorValueBoxBackground:o.colorValueBoxBackground||"#babab2",colorValueBoxShadow:o.colorValueBoxShadow||"rgba(0,0,0,1)",colorNeedleShadowUp:o.colorNeedleShadowUp||"rgba(2,255,255,0.2)",colorNeedleShadowDown:o.colorNeedleShadowDown||"rgba(188,143,143,0.45)",animation:o.animation!==!1&&!this.ctx.isMobile,animationDuration:u(o.animationDuration)&&o.animationDuration!==null?o.animationDuration:500,animationRule:o.animationRule||"cycle",animatedValue:!0};return this.prepareGaugeOptions(o,x),x}};function z(a,l){let o;return a.data&&a.data[0]&&(o=a.data[0].dataKey),o&&u(o.decimals)?o.decimals:T(a.decimals)?a.decimals:0}function W(a,l){let o;return a.data&&a.data[0]&&(o=a.data[0].dataKey),o&&o.units&&o.units.length?o.units:u(l.units)&&l.units.length>0?l.units:a.units}export{f as a,S as b};
